{% extends "base.html" %}
{% load static %}



{% block title %}Inicio - ChoriFans{% endblock %}


{% block content %}
  <h2>Parrillas destacadas</h2>

 
  {% if parrillas %}
    <div class="parrilla-grid">
      {% for parrilla in parrillas %}
        <div class="parrilla-card">
          
         {% if parrilla.foto_principal %}
          <div class="parrilla-image">
          <img src="{{ parrilla.foto_principal.url }}" alt="Foto de {{ parrilla.nombre }}">
          </div>
        {% endif %}

          <!-- Nombre de la parrilla -->
          <div class="parrilla-title">
            {{ parrilla.nombre }}
          </div>

          <!-- Categor칤a (si existe) -->
          <div class="parrilla-info">
            Categor칤a:
            {% if parrilla.categoria %}
              {{ parrilla.categoria.nombre }}
            {% else %}
              Sin categor칤a
            {% endif %}
          </div>

          <!-- Ubicaci칩n (si existe) -->
          <div class="parrilla-info">
            Ubicaci칩n:
            {% if parrilla.ubicacion %}
              {{ parrilla.ubicacion }}
              {# Si definimos __str__ en Ubicacion, se ver치 lindo, ej: "Buenos Aires - Caballito" #}
            {% else %}
              Sin ubicaci칩n
            {% endif %}
          </div>

          <!-- Puntaje en choripanes -->
          <div class="parrilla-rating">
         
            {% with puntaje=parrilla.promedio_puntaje|default:0 %}
              {% with entero=puntaje|floatformat:0 %}
                {% for i in "12345" %}
                  {% if forloop.counter <= entero|add:"0" %}
                    游꺐
                  {% endif %}
                {% endfor %}
                ({{ puntaje }})
              {% endwith %}
            {% endwith %}
          </div>

          <!-- Bot칩n "Ver m치s" (por ahora sin link real) -->
          <a href="{% url 'parrillas:detalle' parrilla.id %}" class="btn-ver">
              Ver m치s
          </a>


        </div>
      {% endfor %}
    </div>
  {% else %}
    <p>No hay parrillas cargadas todav칤a. Prob치 agregarlas desde el admin.</p>
  {% endif %}
{% endblock %}

